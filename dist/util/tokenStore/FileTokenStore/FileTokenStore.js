"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.defaultFileTokenStoreOptions = exports.FileTokenStore = void 0;
var fs = _interopRequireWildcard(require("fs"));
var path = _interopRequireWildcard(require("path"));
var _sanitizeFilename = _interopRequireDefault(require("sanitize-filename"));
var _ = require("../../..");
function _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }
function _getRequireWildcardCache(e) { if ("function" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }
function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || "object" != typeof e && "function" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if ("default" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }
/*
 * This file is part of WPPConnect.
 *
 * WPPConnect is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * WPPConnect is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with WPPConnect.  If not, see <https://www.gnu.org/licenses/>.
 */
/// <reference types="node" />

const defaultFileTokenStoreOptions = exports.defaultFileTokenStoreOptions = {
  decodeFunction: JSON.parse,
  encodeFunction: JSON.stringify,
  encoding: 'utf8',
  fileExtension: '.data.json',
  path: './tokens'
};
class FileTokenStore {
  options;
  constructor(options = {}) {
    this.options = Object.assign({}, defaultFileTokenStoreOptions, options);
  }

  /**
   * Resolve the path of file
   * @param sessionName Name of session
   * @returns Full path of token file
   */
  resolverPath(sessionName) {
    const filename = (0, _sanitizeFilename.default)(sessionName) + this.options.fileExtension;
    return path.resolve(process.cwd(), path.join(this.options.path, filename));
  }
  async getToken(sessionName) {
    const filePath = this.resolverPath(sessionName);
    if (!fs.existsSync(filePath)) {
      return undefined;
    }
    const text = await fs.promises.readFile(filePath, {
      encoding: this.options.encoding
    }).catch(() => null);
    if (!text) {
      return undefined;
    }
    try {
      return this.options.decodeFunction(text);
    } catch (error) {
      _.logger.debug(error);
      return undefined;
    }
  }
  async setToken(sessionName, tokenData) {
    if (!tokenData) {
      return false;
    }
    if (!fs.existsSync(this.options.path)) {
      await fs.promises.mkdir(this.options.path, {
        recursive: true
      });
    }
    const filePath = this.resolverPath(sessionName);
    try {
      const text = this.options.encodeFunction(tokenData);
      await fs.promises.writeFile(filePath, text, {
        encoding: this.options.encoding
      });
      return true;
    } catch (error) {
      _.logger.debug(error);
      return false;
    }
  }
  async removeToken(sessionName) {
    const filePath = this.resolverPath(sessionName);
    if (!fs.existsSync(filePath)) {
      return false;
    }
    try {
      await fs.promises.unlink(filePath);
      return true;
    } catch (error) {
      _.logger.debug(error);
      return false;
    }
  }
  async listTokens() {
    if (!fs.existsSync(this.options.path)) {
      return [];
    }
    try {
      let files = await fs.promises.readdir(this.options.path);

      // Only sessions with same fileExtension
      files = files.filter(file => file.endsWith(this.options.fileExtension));

      // Return name only
      files = files.map(file => path.basename(file, this.options.fileExtension));
      return files;
    } catch (error) {
      _.logger.debug(error);
      return [];
    }
  }
}
exports.FileTokenStore = FileTokenStore;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmcyIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsInBhdGgiLCJfc2FuaXRpemVGaWxlbmFtZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsInIiLCJ0IiwiaGFzIiwiZ2V0IiwibiIsIl9fcHJvdG9fXyIsImEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwic2V0IiwiZGVmYXVsdEZpbGVUb2tlblN0b3JlT3B0aW9ucyIsImV4cG9ydHMiLCJkZWNvZGVGdW5jdGlvbiIsIkpTT04iLCJwYXJzZSIsImVuY29kZUZ1bmN0aW9uIiwic3RyaW5naWZ5IiwiZW5jb2RpbmciLCJmaWxlRXh0ZW5zaW9uIiwiRmlsZVRva2VuU3RvcmUiLCJvcHRpb25zIiwiY29uc3RydWN0b3IiLCJhc3NpZ24iLCJyZXNvbHZlclBhdGgiLCJzZXNzaW9uTmFtZSIsImZpbGVuYW1lIiwic2FuaXRpemUiLCJyZXNvbHZlIiwicHJvY2VzcyIsImN3ZCIsImpvaW4iLCJnZXRUb2tlbiIsImZpbGVQYXRoIiwiZXhpc3RzU3luYyIsInVuZGVmaW5lZCIsInRleHQiLCJwcm9taXNlcyIsInJlYWRGaWxlIiwiY2F0Y2giLCJlcnJvciIsImxvZ2dlciIsImRlYnVnIiwic2V0VG9rZW4iLCJ0b2tlbkRhdGEiLCJta2RpciIsInJlY3Vyc2l2ZSIsIndyaXRlRmlsZSIsInJlbW92ZVRva2VuIiwidW5saW5rIiwibGlzdFRva2VucyIsImZpbGVzIiwicmVhZGRpciIsImZpbHRlciIsImZpbGUiLCJlbmRzV2l0aCIsIm1hcCIsImJhc2VuYW1lIl0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3V0aWwvdG9rZW5TdG9yZS9GaWxlVG9rZW5TdG9yZS9GaWxlVG9rZW5TdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgV1BQQ29ubmVjdC5cbiAqXG4gKiBXUFBDb25uZWN0IGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogV1BQQ29ubmVjdCBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBXUFBDb25uZWN0LiAgSWYgbm90LCBzZWUgPGh0dHBzOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuLy8vIDxyZWZlcmVuY2UgdHlwZXM9XCJub2RlXCIgLz5cbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgc2FuaXRpemUgZnJvbSAnc2FuaXRpemUtZmlsZW5hbWUnO1xuXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi8uLi8uLic7XG5pbXBvcnQgeyBTZXNzaW9uVG9rZW4sIFRva2VuU3RvcmUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVRva2VuU3RvcmVPcHRpb25zIHtcbiAgLyoqXG4gICAqIERlY29kZSBmdW5jdGlvbiB0byBwYXJzZSB0b2tlbiBmaWxlIChEZWZhdWx0IGBKU09OLnBhcnNlYCkge0BsaW5rIGRlZmF1bHRGaWxlVG9rZW5TdG9yZU9wdGlvbnN9XG4gICAqIEBkZWZhdWx0IGBKU09OLnBhcnNlYFxuICAgKi9cbiAgZGVjb2RlRnVuY3Rpb246ICh0ZXh0OiBzdHJpbmcpID0+IGFueTtcblxuICAvKipcbiAgICogRW5jb2RlIGZ1bmN0aW9uIHRvIHNhdmUgdG9rZW5zIChEZWZhdWx0IGBKU09OLnN0cmluZ2lmeWApXG4gICAqIEBkZWZhdWx0IGBKU09OLnN0cmluZ2lmeWBcbiAgICovXG4gIGVuY29kZUZ1bmN0aW9uOiAoZGF0YTogYW55KSA9PiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEVuY29kaW5nIHVzZWQgdG8gcmVhZCBhbmQgc2F2ZSBmaWxlc1xuICAgKiBAZGVmYXVsdCAndXRmOCdcbiAgICovXG4gIGVuY29kaW5nOiBCdWZmZXJFbmNvZGluZztcblxuICAvKipcbiAgICogQGRlZmF1bHQgJy5kYXRhLmpzb24nXG4gICAqL1xuICBmaWxlRXh0ZW5zaW9uOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEZvbGRlciBwYXRoIHRvIHN0b3JlIHRva2Vuc1xuICAgKiBAZGVmYXVsdCAnLi90b2tlbnMnXG4gICAqL1xuICBwYXRoOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0RmlsZVRva2VuU3RvcmVPcHRpb25zOiBGaWxlVG9rZW5TdG9yZU9wdGlvbnMgPSB7XG4gIGRlY29kZUZ1bmN0aW9uOiBKU09OLnBhcnNlLFxuICBlbmNvZGVGdW5jdGlvbjogSlNPTi5zdHJpbmdpZnksXG4gIGVuY29kaW5nOiAndXRmOCcsXG4gIGZpbGVFeHRlbnNpb246ICcuZGF0YS5qc29uJyxcbiAgcGF0aDogJy4vdG9rZW5zJyxcbn07XG5cbmV4cG9ydCBjbGFzcyBGaWxlVG9rZW5TdG9yZSBpbXBsZW1lbnRzIFRva2VuU3RvcmUge1xuICBwcm90ZWN0ZWQgb3B0aW9uczogRmlsZVRva2VuU3RvcmVPcHRpb25zO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBhcnRpYWw8RmlsZVRva2VuU3RvcmVPcHRpb25zPiA9IHt9KSB7XG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihcbiAgICAgIHt9LFxuICAgICAgZGVmYXVsdEZpbGVUb2tlblN0b3JlT3B0aW9ucyxcbiAgICAgIG9wdGlvbnNcbiAgICApIGFzIEZpbGVUb2tlblN0b3JlT3B0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBwYXRoIG9mIGZpbGVcbiAgICogQHBhcmFtIHNlc3Npb25OYW1lIE5hbWUgb2Ygc2Vzc2lvblxuICAgKiBAcmV0dXJucyBGdWxsIHBhdGggb2YgdG9rZW4gZmlsZVxuICAgKi9cbiAgcHJvdGVjdGVkIHJlc29sdmVyUGF0aChzZXNzaW9uTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBmaWxlbmFtZSA9IHNhbml0aXplKHNlc3Npb25OYW1lKSArIHRoaXMub3B0aW9ucy5maWxlRXh0ZW5zaW9uO1xuICAgIHJldHVybiBwYXRoLnJlc29sdmUocHJvY2Vzcy5jd2QoKSwgcGF0aC5qb2luKHRoaXMub3B0aW9ucy5wYXRoLCBmaWxlbmFtZSkpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIGdldFRva2VuKFxuICAgIHNlc3Npb25OYW1lOiBzdHJpbmdcbiAgKTogUHJvbWlzZTxTZXNzaW9uVG9rZW4gfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBmaWxlUGF0aCA9IHRoaXMucmVzb2x2ZXJQYXRoKHNlc3Npb25OYW1lKTtcblxuICAgIGlmICghZnMuZXhpc3RzU3luYyhmaWxlUGF0aCkpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IGZzLnByb21pc2VzXG4gICAgICAucmVhZEZpbGUoZmlsZVBhdGgsIHtcbiAgICAgICAgZW5jb2Rpbmc6IHRoaXMub3B0aW9ucy5lbmNvZGluZyxcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4gbnVsbCk7XG5cbiAgICBpZiAoIXRleHQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZGVjb2RlRnVuY3Rpb24odGV4dCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhlcnJvcik7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZXRUb2tlbihcbiAgICBzZXNzaW9uTmFtZTogc3RyaW5nLFxuICAgIHRva2VuRGF0YTogU2Vzc2lvblRva2VuIHwgbnVsbFxuICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBpZiAoIXRva2VuRGF0YSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghZnMuZXhpc3RzU3luYyh0aGlzLm9wdGlvbnMucGF0aCkpIHtcbiAgICAgIGF3YWl0IGZzLnByb21pc2VzLm1rZGlyKHRoaXMub3B0aW9ucy5wYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlUGF0aCA9IHRoaXMucmVzb2x2ZXJQYXRoKHNlc3Npb25OYW1lKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy5vcHRpb25zLmVuY29kZUZ1bmN0aW9uKHRva2VuRGF0YSk7XG5cbiAgICAgIGF3YWl0IGZzLnByb21pc2VzLndyaXRlRmlsZShmaWxlUGF0aCwgdGV4dCwge1xuICAgICAgICBlbmNvZGluZzogdGhpcy5vcHRpb25zLmVuY29kaW5nLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmRlYnVnKGVycm9yKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVtb3ZlVG9rZW4oc2Vzc2lvbk5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZpbGVQYXRoID0gdGhpcy5yZXNvbHZlclBhdGgoc2Vzc2lvbk5hbWUpO1xuXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGZpbGVQYXRoKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmcy5wcm9taXNlcy51bmxpbmsoZmlsZVBhdGgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIGxpc3RUb2tlbnMoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGlmICghZnMuZXhpc3RzU3luYyh0aGlzLm9wdGlvbnMucGF0aCkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgbGV0IGZpbGVzID0gYXdhaXQgZnMucHJvbWlzZXMucmVhZGRpcih0aGlzLm9wdGlvbnMucGF0aCk7XG5cbiAgICAgIC8vIE9ubHkgc2Vzc2lvbnMgd2l0aCBzYW1lIGZpbGVFeHRlbnNpb25cbiAgICAgIGZpbGVzID0gZmlsZXMuZmlsdGVyKChmaWxlKSA9PiBmaWxlLmVuZHNXaXRoKHRoaXMub3B0aW9ucy5maWxlRXh0ZW5zaW9uKSk7XG5cbiAgICAgIC8vIFJldHVybiBuYW1lIG9ubHlcbiAgICAgIGZpbGVzID0gZmlsZXMubWFwKChmaWxlKSA9PlxuICAgICAgICBwYXRoLmJhc2VuYW1lKGZpbGUsIHRoaXMub3B0aW9ucy5maWxlRXh0ZW5zaW9uKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIGZpbGVzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZGVidWcoZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFpQkEsSUFBQUEsRUFBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsSUFBQSxHQUFBRix1QkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsaUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUgsT0FBQTtBQUVBLElBQUFJLENBQUEsR0FBQUosT0FBQTtBQUFrQyxTQUFBRyx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLFNBQUFHLHlCQUFBSCxDQUFBLDZCQUFBSSxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFELHdCQUFBLFlBQUFBLENBQUFILENBQUEsV0FBQUEsQ0FBQSxHQUFBTSxDQUFBLEdBQUFELENBQUEsS0FBQUwsQ0FBQTtBQUFBLFNBQUFOLHdCQUFBTSxDQUFBLEVBQUFLLENBQUEsU0FBQUEsQ0FBQSxJQUFBTCxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxTQUFBRCxDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUUsT0FBQSxFQUFBRixDQUFBLFFBQUFNLENBQUEsR0FBQUgsd0JBQUEsQ0FBQUUsQ0FBQSxPQUFBQyxDQUFBLElBQUFBLENBQUEsQ0FBQUMsR0FBQSxDQUFBUCxDQUFBLFVBQUFNLENBQUEsQ0FBQUUsR0FBQSxDQUFBUixDQUFBLE9BQUFTLENBQUEsS0FBQUMsU0FBQSxVQUFBQyxDQUFBLEdBQUFDLE1BQUEsQ0FBQUMsY0FBQSxJQUFBRCxNQUFBLENBQUFFLHdCQUFBLFdBQUFDLENBQUEsSUFBQWYsQ0FB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